
const quizJP = [
  {
    question: "Q1ï¼šã€Œã‚„ã£ã¦ã‚‰ã‚“ãªã„ï¼ããï¼ã€ ã‚„ã•ã—ã„è¨€è‘‰ã«è¨€ã„ã‹ãˆã‚‹ãªã‚‰ï¼Ÿ",
    options: [
      "â‘  è‡ªåˆ†ãŒæ‚ªã„ã£ã¦ã“ã¨ã ã‚ˆã­",
      "â‘¡ ã“ã‚Œã¯ã€ã„ã£ãŸã‚“è·é›¢ã‚’ç½®ãã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‹ã‚‚",
      "â‘¢ ã‚„ã‚ã¦ã‚„ã‚‹ï¼"
    ],
    correct: 1,
    feedback: [
      "è‡ªå·±å¦å®šã¯æ°—åŠ›ã‚’ã•ã‚‰ã«å‰Šã‚Šã¾ã™ã€‚",
      "æ€’ã‚Šã®çˆ†ç™ºã‚’å¤–ã«å‘ã‘ãšã€ã€Œè·é›¢ã‚’ç½®ãã€ãŒè‡ªåˆ†ã‚’å®ˆã‚‹ç¬¬ä¸€æ­©ã€‚",
      "è¡å‹•çš„ãªæ”¾æ£„ã¯å¾Œæ‚”ã‚„å­¤ç«‹ã‚’æ‹›ãã¾ã™ã€‚ã¾ãšã¯ã€Œé–“ã€ã‚’å–ã‚‹é¸æŠã‚’ã€‚"
    ]
  },
  {
    question: "Q2ï¼šã€Œã‚‚ã†é™ç•Œâ€¦ã€ ã‚„ã•ã—ã„è¨€è‘‰ã«è¨€ã„ã‹ãˆã‚‹ãªã‚‰ï¼Ÿ",
    options: [
      "â‘  é™ç•Œã‚’è¶…ãˆã¦ã¿ã‚ˆã†",
      "â‘¡ æ·±å‘¼å¸ã—ã¦ãƒªã‚»ãƒƒãƒˆã—ã‚ˆã†",
      "â‘¢ ã¨ã«ã‹ãè€ãˆã‚ˆã†"
    ],
    correct: 1,
    feedback: [
      "ç„¡ç†ãªçªç ´ã¯å¿ƒã¨ä½“ã«è² æ‹…ã‚’ã‹ã‘ã¾ã™ã€‚",
      "é™ç•Œï¼çµ‚ã‚ã‚Šã§ã¯ãªãã€ãƒªã‚»ãƒƒãƒˆã®ã‚µã‚¤ãƒ³ã¨å—ã‘æ­¢ã‚ã¦ã€‚",
      "æˆ‘æ…¢ã®ç¶™ç¶šã¯ç–²å¼Šã«ã¤ãªãŒã‚Šã¾ã™ã€‚"
    ]
  },
  {
    question: "Q3ï¼šã€Œä½•ã‚‚ã‹ã‚‚ç„¡ç†ã€ ã‚„ã•ã—ã„è¨€è‘‰ã«è¨€ã„ã‹ãˆã‚‹ãªã‚‰ï¼Ÿ",
    options: [
      "â‘  è«¦ã‚ã‚ˆã†",
      "â‘¡ å°‘ã—ãšã¤ã§ã„ã„",
      "â‘¢ å…¨éƒ¨ã‚„ã‚‰ãªãã‚ƒ"
    ],
    correct: 1,
    feedback: [
      "è«¦ã‚ï¼ç„¡ä¾¡å€¤ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚",
      "å…¨éƒ¨ç„¡ç†ã€ã¯è„³ã®éŒ¯è¦šã€‚ã€Œã²ã¨ã¤ãšã¤ã€ãŒç¾å®Ÿçš„ãªå¯¾å‡¦æ³•ã€‚",
      "å®Œç’§ä¸»ç¾©ã¯ã•ã‚‰ãªã‚‹é‡åœ§ã‚’ç”Ÿã¿ã¾ã™ã€‚"
    ]
  },
  {
    question: "Q4ï¼šã€Œèª°ã‚‚ã‚ã‹ã£ã¦ãã‚Œãªã„ã€ ã‚„ã•ã—ã„è¨€è‘‰ã«è¨€ã„ã‹ãˆã‚‹ãªã‚‰ï¼Ÿ",
    options: [
      "â‘  æ„Ÿæƒ…ã‚’å‡ºã™ã¨è¿·æƒ‘ã ã‹ã‚‰é»™ã‚ã†",
      "â‘¡ è‡ªåˆ†ã®æ°—æŒã¡ã¯é–“é•ã£ã¦ã‚‹ã‹ã‚‚ã—ã‚Œãªã„",
      "â‘¢ ã¾ãšè‡ªåˆ†ãŒè‡ªåˆ†ã‚’ã‚ã‹ã£ã¦ã‚ã’ã‚ˆã†"
    ],
    correct: 2,
    feedback: [
      "æ„Ÿæƒ…ã‚’é–‰ã˜è¾¼ã‚ã‚‹ã“ã¨ã¯ã€å¿ƒã®ç–²åŠ´ã‚’è“„ç©ã•ã›ã¾ã™ã€‚",
      "è‡ªåˆ†ã®æ„Ÿæƒ…ã‚’ç–‘ã†ã“ã¨ã¯è‡ªå·±å¦å®šã®ç¬¬ä¸€æ­©ã§ã™ã€‚",
      "ã€Œèª°ã‹ã€ã‚ˆã‚Šå…ˆã«ã€Œè‡ªåˆ†ã€ãŒç†è§£è€…ã«ãªã‚‹ã“ã¨ã§å¿ƒãŒæ•´ã„ã¾ã™ã€‚"
    ]
  },
  {
    question: "Q5ï¼šã€Œãªã‚“ã§ç§ã°ã£ã‹ã‚Šâ€¦ã€ ã‚„ã•ã—ã„è¨€è‘‰ã«è¨€ã„ã‹ãˆã‚‹ãªã‚‰ï¼Ÿ",
    options: [
      "â‘  é ¼ã‚Œã‚‹èª°ã‹ã‚’æ¢ã—ã¦ã¿ã‚ˆã†",
      "â‘¡ ã¿ã‚“ãªé ‘å¼µã£ã¦ã‚‹ã‹ã‚‰æ¯”ã¹ãªã„",
      "â‘¢ æ„šç—´ã‚’è¨€ã£ã¦ã‚‚ä½•ã‚‚å¤‰ã‚ã‚‰ãªã„"
    ],
    correct: 0,
    feedback: [
      "åŠ©ã‘ã‚’æ±‚ã‚ã‚‹ã®ã¯å¼±ã•ã§ã¯ãªãã€å¼·ã•ã®ã‚µã‚¤ãƒ³ã§ã™ã€‚",
      "æ¯”ã¹ã‚‹ã“ã¨ã§è¦‹å¤±ã†ã®ã¯ã€è‡ªåˆ†ã®é ‘å¼µã‚Šã§ã™ã€‚",
      "æ€ã„ã‚’åãå‡ºã™ã“ã¨ã¯ã€å¤‰åŒ–ã®ä¸€æ­©ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚"
    ]
  }
];

const quizEN = [
  {
    question: "Q1: â€œI canâ€™t take this anymore!â€ Which phrase softens this feeling best?",
    options: [
      "â‘  Maybe Iâ€™m the problem",
      "â‘¡ It might be a timing to take some distance",
      "â‘¢ Iâ€™ll just quit!"
    ],
    correct: 1,
    feedback: [
      "Self-blame drains emotional energy.",
      "Taking a step back is the first step to protecting yourself.",
      "Impulsive quitting may lead to regret and isolation."
    ]
  },
  {
    question: "Q2: â€œIâ€™ve hit my limitâ€¦â€ Which phrase softens this feeling best?",
    options: [
      "â‘  Push through anyway",
      "â‘¡ Letâ€™s reset with a deep breath",
      "â‘¢ Just keep enduring"
    ],
    correct: 1,
    feedback: [
      "Pushing through can cause burnout.",
      "Hitting your limit is a sign to pause, not to break.",
      "Endurance without recovery leads to exhaustion."
    ]
  },
  {
    question: "Q3: â€œEverything feels impossibleâ€ Which phrase softens this feeling best?",
    options: [
      "â‘  Give up",
      "â‘¡ Step by step is just fine",
      "â‘¢ I have to do it all"
    ],
    correct: 1,
    feedback: [
      "Giving up doesnâ€™t mean youâ€™re worthless.",
      "â€˜Everything is impossibleâ€™ is often a cognitive illusion. Step-by-step works best.",
      "Perfectionism adds more pressure."
    ]
  },
  {
    question: "Q4: â€œNo one understands meâ€¦â€ Which phrase softens this feeling best?",
    options: [
      "â‘  I should just stay silent",
      "â‘¡ Maybe Iâ€™m wrong to feel this way",
      "â‘¢ Let yourself understand you first"
    ],
    correct: 2,
    feedback: [
      "Suppressing feelings creates internal stress.",
      "Doubting your emotions leads to self-denial.",
      "Being your own supporter brings peace."
    ]
  },
  {
    question: "Q5: â€œWhy is it always meâ€¦?â€ Which phrase softens this feeling best?",
    options: [
      "â‘  Try finding someone to lean on",
      "â‘¡ Maybe Iâ€™m just unlucky",
      "â‘¢ Just endure silently"
    ],
    correct: 0,
    feedback: [
      "Asking for help shows strength, not weakness.",
      "Believing you're unlucky dismisses your feelings.",
      "Silence can deepen your struggle."
    ]
  }
];

let lang = "jp";
let current = 0;

function switchLang(newLang) {
  lang = newLang;
  current = 0;
  document.getElementById("retry-button").style.display = "none";
  showQuestion();
}

function showQuestion() {
  const quiz = lang === "jp" ? quizJP : quizEN;
  const q = quiz[current];
  document.getElementById("question").textContent = q.question;
  const options = document.getElementById("options");
  options.innerHTML = "";
  document.getElementById("result").innerHTML = "";
  document.getElementById("next-button").style.display = "none";

  q.options.forEach((opt, idx) => {
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.className = "option";
    btn.onclick = () => {
      const isCorrect = idx === q.correct;
      const feedback = q.feedback[idx];
      document.getElementById("result").innerHTML = (isCorrect ? "âœ… æ­£è§£ï¼ / Correct!" : "âŒ ä¸æ­£è§£â€¦ / Incorrectâ€¦") + "<br>" + feedback;

      if (current < quiz.length - 1) {
        document.getElementById("next-button").style.display = "inline-block";
      } else {
        document.getElementById("retry-button").style.display = "inline-block";
        document.getElementById("result").innerHTML += "<br><br>ğŸ‰ ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼ / Well done!";
      }
    };
    options.appendChild(btn);
  });
}

function nextQuestion() {
  current++;
  document.getElementById("next-button").style.display = "none";
  showQuestion();
}

function restartQuiz() {
  current = 0;
  document.getElementById("retry-button").style.display = "none";
  showQuestion();
}

document.addEventListener("DOMContentLoaded", showQuestion);
